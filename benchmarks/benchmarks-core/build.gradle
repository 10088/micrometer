plugins {
    id "me.champeau.gradle.jmh" version "0.5.3"
}

dependencies {
    jmh project(':micrometer-core')
    jmh project(':micrometer-registry-prometheus')

    jmh 'io.dropwizard.metrics5:metrics-core:latest.release'
    jmh 'io.prometheus:simpleclient_common:latest.release'

    jmh 'org.openjdk.jmh:jmh-core:latest.release'
    jmh 'org.openjdk.jmh:jmh-generator-annprocess:latest.release'
}

jmh {
    fork = 1
    warmupIterations = 1
    iterations = 1
    duplicateClassesStrategy = DuplicatesStrategy.EXCLUDE
    zip64 = true
}
